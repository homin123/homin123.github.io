import{_ as D,r as d,c as l,a as t,j as y,v as h,F as b,g,h as v,t as k,o}from"./CEz6vteT.js";const M={class:"container"},S={class:"date-picker"},C={key:0,class:"meal-container"},T={class:"meal-list"},w=["innerHTML"],x={key:1,class:"lodding"},I={key:2,class:"error-message"},L={__name:"meal",setup($){const r=d(""),i=d([]),s=d(""),u=d(!1),_=c=>{const[e,a,n]=c.split("-");return`${e}${a}${n}`},p=async()=>{var a;if(!r.value){s.value="날짜를 입력해라";return}s.value="";const c=_(r.value),e="141865d2eb594d4eb6ea6b807df4c2a0";try{u.value=!0;const m=await(await fetch(`https://open.neis.go.kr/hub/mealServiceDietInfo?KEY=${e}&ATPT_OFCDC_SC_CODE=M10&SD_SCHUL_CODE=8101007&MLSV_YMD=${c}&Type=json`)).json();(a=m.mealServiceDietInfo[1])!=null&&a.row?i.value=m.mealServiceDietInfo[1].row.map(f=>f.DDISH_NM):s.value="새로고침 후 시도해주세요"}catch{s.value="이 날짜는 주말 아니면 방학입니다."}finally{u.value=!1}};return(c,e)=>(o(),l("div",M,[e[3]||(e[3]=t("h1",{class:"title"},"급식 메뉴",-1)),t("div",S,[e[1]||(e[1]=t("label",{for:"date",class:"date-label"},"날짜 선택:",-1)),y(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a),type:"date",class:"date-input"},null,512),[[h,r.value]]),t("button",{onClick:p,class:"fetch-button"},"급식 메뉴 조회")]),i.value.length?(o(),l("div",C,[e[2]||(e[2]=t("h2",{class:"meal-title"},"오늘의 급식 메뉴",-1)),t("div",T,[(o(!0),l(b,null,g(i.value,(a,n)=>(o(),l("div",{class:"meal-card",key:n},[t("p",{class:"meal-text",innerHTML:i.value},null,8,w)]))),128))])])):v("",!0),u.value?(o(),l("p",x,"급식메뉴를 불러오는 중입니다...")):v("",!0),s.value?(o(),l("p",I,k(s.value),1)):v("",!0)]))}},H=D(L,[["__scopeId","data-v-54ebffe0"]]);export{H as default};
