(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{5577:(e,s,a)=>{Promise.resolve().then(a.bind(a,5381))},5381:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i});var t=a(5155),n=a(2115),r=a(1319),m=a(1886),p=a.n(m);let c=(0,r.Ay)("https://web-production-4339c.up.railway.app/");function i(){let[e,s]=(0,n.useState)(""),[a,r]=(0,n.useState)(""),[m,i]=(0,n.useState)([]),[o,l]=(0,n.useState)(!1);(0,n.useEffect)(()=>{document.title="호민-채팅하기";let e=document.querySelector('meta[property="og:title"]');e&&e.setAttribute("content","호민-채팅하기");let s=document.querySelector('meta[property="og:description"]');s&&s.setAttribute("content","사람들과 대화할 수 있습니다.")},[]),(0,n.useEffect)(()=>(c.on("chat message",e=>{i(s=>[...s,e])}),()=>{c.off("chat message")}),[]);let g=()=>{a.trim()&&(c.emit("chat message",{name:e,text:a}),r(""))};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:p().chatContainer,children:[(0,t.jsx)("h1",{children:"채팅방"}),o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:p().messageList,children:m.map((s,a)=>(0,t.jsx)("div",{className:"".concat(p().messageRow," ").concat(s.name===e?p().myMessageWrapper:p().otherMessageWrapper),children:"System"===s.name?(0,t.jsx)("div",{className:p().systemMessage,children:s.text}):(0,t.jsxs)(t.Fragment,{children:[s.name!==e&&(0,t.jsx)("img",{src:"/sans1.png",alt:"프로필",className:p().profileImage}),(0,t.jsxs)("div",{className:p().messageWrapper,children:[s.name!==e&&(0,t.jsx)("div",{className:p().senderName,children:s.name}),(0,t.jsx)("div",{className:"".concat(p().messageContent," ").concat(s.name===e?p().myMessage:p().otherMessage),children:(0,t.jsx)("p",{children:s.text})})]})]})},a))}),(0,t.jsxs)("div",{className:p().inputContainer,children:[(0,t.jsx)("input",{type:"text",value:a,onChange:e=>r(e.target.value),onKeyDown:e=>"Enter"===e.key&&g(),placeholder:"메시지를 입력하세요...",className:p().input}),(0,t.jsx)("button",{className:p().button,onClick:g,children:"전송"})]})]}):(0,t.jsxs)("div",{className:p().inputContainer,children:[(0,t.jsx)("input",{type:"text",placeholder:"이름을 입력하세요",value:e,onChange:e=>s(e.target.value),className:p().input}),(0,t.jsx)("button",{className:p().button,onClick:()=>{c.emit("set name",e),l(!0)},disabled:!e.trim(),children:"확인"})]})]})})}},1886:e=>{e.exports={chatContainer:"page_chatContainer__WQh1R",input:"page_input__M_AXb",button:"page_button__G7hNl",messageList:"page_messageList__wJW6p",messageRow:"page_messageRow__yLJB3",profileImage:"page_profileImage__r6sFo",messageWrapper:"page_messageWrapper__bnbc_",senderName:"page_senderName__vvQxH",messageContent:"page_messageContent__sqDiQ",myMessageWrapper:"page_myMessageWrapper__S9pU4",myMessage:"page_myMessage__ZEEvp",otherMessageWrapper:"page_otherMessageWrapper__oWQQz",otherMessage:"page_otherMessage__t4Qio",systemMessage:"page_systemMessage__7LqId"}}},e=>{var s=s=>e(e.s=s);e.O(0,[601,319,441,517,358],()=>s(5577)),_N_E=e.O()}]);