(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{5577:(e,s,t)=>{Promise.resolve().then(t.bind(t,5381))},5381:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(5155),n=t(2115),i=t(1319),r=t(1886),c=t.n(r);let l=(0,i.Ay)("http://172.30.1.42:3001");function o(){let[e,s]=(0,n.useState)(""),[t,i]=(0,n.useState)(""),[r,o]=(0,n.useState)([]),[h,g]=(0,n.useState)(!1);(0,n.useEffect)(()=>(l.on("chat message",e=>{o(s=>[...s,e])}),()=>{l.off("chat message")}),[]);let _=()=>{t.trim()&&(l.emit("chat message",{name:e,text:t}),i(""))};return(0,a.jsxs)("div",{className:c().chatContainer,children:[(0,a.jsx)("h1",{children:"실시간 채팅"}),h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:c().messageList,children:r.map((s,t)=>(0,a.jsxs)("p",{className:"".concat(c().message," ").concat(s.name===e?c().myMessage:c().otherMessage),children:[(0,a.jsxs)("strong",{children:[s.name,": "]})," ",s.text]},t))}),(0,a.jsxs)("div",{className:c().inputContainer,children:[(0,a.jsx)("input",{type:"text",value:t,onChange:e=>i(e.target.value),onKeyDown:e=>"Enter"===e.key&&_(),placeholder:"메시지를 입력하세요..."}),(0,a.jsx)("button",{className:c().sendButton,onClick:_,children:"전송"})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",placeholder:"이름을 입력하세요",value:e,onChange:e=>s(e.target.value)}),(0,a.jsx)("button",{onClick:()=>g(!0),disabled:!e.trim(),children:"확인"})]})]})}},1886:e=>{e.exports={chatContainer:"page_chatContainer__WQh1R",messageList:"page_messageList__wJW6p",message:"page_message__xEpcT",myMessage:"page_myMessage__ZEEvp",otherMessage:"page_otherMessage__t4Qio",inputContainer:"page_inputContainer__ynHdW",sendButton:"page_sendButton__cq9Yd"}}},e=>{var s=s=>e(e.s=s);e.O(0,[601,319,441,517,358],()=>s(5577)),_N_E=e.O()}]);