(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[960],{7338:(e,a,t)=>{Promise.resolve().then(t.bind(t,1946))},1946:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});var l=t(5155),s=t(2115),n=t(7977),i=t.n(n);function r(){let[e,a]=(0,s.useState)(""),[t,n]=(0,s.useState)([]),[r,_]=(0,s.useState)(""),[c,d]=(0,s.useState)(!1),o=e=>e.replace(/-/g,""),m=async()=>{if(!e){_("날짜를 입력해 주세요.");return}_(""),n([]),d(!0);let a=o(e);try{var t,l;let e=await fetch("https://open.neis.go.kr/hub/mealServiceDietInfo?KEY=".concat("141865d2eb594d4eb6ea6b807df4c2a0","&ATPT_OFCDC_SC_CODE=M10&SD_SCHUL_CODE=8101007&MLSV_YMD=").concat(a,"&Type=json")),s=await e.json();(null===(l=s.mealServiceDietInfo)||void 0===l?void 0:null===(t=l[1])||void 0===t?void 0:t.row)?n(s.mealServiceDietInfo[1].row.map(e=>e.DDISH_NM)):_("아직 급식이 없습니다. 다음에 시도해주세요")}catch(e){_("이 날짜는 주말 아니면 방학입니다.")}finally{d(!1)}};return(0,l.jsxs)("div",{className:i().container,children:[(0,l.jsx)("h1",{className:i().title,children:"급식 메뉴"}),(0,l.jsxs)("div",{className:i().datePicker,children:[(0,l.jsx)("label",{htmlFor:"date",className:i().dateLabel,children:"날짜 선택:"}),(0,l.jsx)("input",{type:"date",value:e,onChange:e=>a(e.target.value),className:i().dateInput}),(0,l.jsx)("button",{onClick:m,className:i().fetchButton,children:"급식 메뉴 조회"})]}),c&&(0,l.jsx)("p",{className:i().loading,children:"급식 메뉴를 불러오는 중입니다..."}),r&&(0,l.jsx)("p",{className:i().errorMessage,children:r}),t.length>0&&(0,l.jsxs)("div",{className:i().mealContainer,children:[(0,l.jsx)("h2",{className:i().mealTitle,children:"오늘의 급식 메뉴"}),(0,l.jsx)("div",{className:i().mealList,children:t.map((e,a)=>(0,l.jsx)("div",{className:i().mealCard,children:(0,l.jsx)("p",{className:i().mealText,dangerouslySetInnerHTML:{__html:e}})},a))})]})]})}},7977:e=>{e.exports={container:"page_container__NhD0L",title:"page_title__bfkw3",datePicker:"page_datePicker__i8v74",dateLabel:"page_dateLabel__4AK6o",dateInput:"page_dateInput__W9bhi",fetchButton:"page_fetchButton__L_byA",mealContainer:"page_mealContainer__aaps5",mealTitle:"page_mealTitle__6QmY9",mealList:"page_mealList__lTQWg",mealCard:"page_mealCard__ZG3ep",mealText:"page_mealText__oH1bY",errorMessage:"page_errorMessage__1WSLH",loading:"page_loading__gmSxG"}}},e=>{var a=a=>e(e.s=a);e.O(0,[174,441,517,358],()=>a(7338)),_N_E=e.O()}]);