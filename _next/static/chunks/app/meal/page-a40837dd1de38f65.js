(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[960],{7338:(e,a,t)=>{Promise.resolve().then(t.bind(t,1946))},1946:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});var l=t(5155),s=t(2115),n=t(7977),r=t.n(n);function i(){let[e,a]=(0,s.useState)(""),[t,n]=(0,s.useState)([]),[i,c]=(0,s.useState)(""),[_,o]=(0,s.useState)(!1);(0,s.useEffect)(()=>{document.title="호민-급식조회";let e=document.querySelector('meta[property="og:title"]');e&&e.setAttribute("content","호민-급식조회");let a=document.querySelector('meta[property="og:description"]');a&&a.setAttribute("content","오늘 어떤 급식이 나오는지 궁금한가요?! 그럼 호민을 사용하세요")},[]);let d=e=>e.replace(/-/g,""),m=async()=>{if(!e){c("날짜를 입력해 주세요.");return}c(""),n([]),o(!0);let a=d(e);try{var t,l;let e=await fetch("https://open.neis.go.kr/hub/mealServiceDietInfo?KEY=".concat("141865d2eb594d4eb6ea6b807df4c2a0","&ATPT_OFCDC_SC_CODE=M10&SD_SCHUL_CODE=8101007&MLSV_YMD=").concat(a,"&Type=json")),s=await e.json();(null===(l=s.mealServiceDietInfo)||void 0===l?void 0:null===(t=l[1])||void 0===t?void 0:t.row)?n(s.mealServiceDietInfo[1].row.map(e=>e.DDISH_NM)):c("아직 급식이 없습니다. 다음에 시도해주세요")}catch(e){c("이 날짜는 주말 아니면 방학입니다.")}finally{o(!1)}};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:r().container,children:[(0,l.jsx)("h1",{className:r().title,children:"급식 메뉴"}),(0,l.jsxs)("div",{className:r().datePicker,children:[(0,l.jsx)("label",{htmlFor:"date",className:r().dateLabel,children:"날짜 선택:"}),(0,l.jsx)("input",{type:"date",value:e,onChange:e=>a(e.target.value),className:r().dateInput}),(0,l.jsx)("button",{onClick:m,className:r().fetchButton,children:"급식 메뉴 조회"})]}),_&&(0,l.jsx)("p",{className:r().loading,children:"급식 메뉴를 불러오는 중입니다..."}),i&&(0,l.jsx)("p",{className:r().errorMessage,children:i}),t.length>0&&(0,l.jsxs)("div",{className:r().mealContainer,children:[(0,l.jsx)("h2",{className:r().mealTitle,children:"오늘의 급식 메뉴"}),(0,l.jsx)("div",{className:r().mealList,children:t.map((e,a)=>(0,l.jsx)("div",{className:r().mealCard,children:(0,l.jsx)("p",{className:r().mealText,dangerouslySetInnerHTML:{__html:e}})},a))})]})]})})}},7977:e=>{e.exports={container:"page_container__NhD0L",title:"page_title__bfkw3",datePicker:"page_datePicker__i8v74",dateLabel:"page_dateLabel__4AK6o",dateInput:"page_dateInput__W9bhi",fetchButton:"page_fetchButton__L_byA",mealContainer:"page_mealContainer__aaps5",mealTitle:"page_mealTitle__6QmY9",mealList:"page_mealList__lTQWg",mealCard:"page_mealCard__ZG3ep",mealText:"page_mealText__oH1bY",errorMessage:"page_errorMessage__1WSLH",loading:"page_loading__gmSxG"}}},e=>{var a=a=>e(e.s=a);e.O(0,[174,441,517,358],()=>a(7338)),_N_E=e.O()}]);